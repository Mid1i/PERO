import {useEffect, useState} from "react";
import classNames from "classnames";

import {isPWA} from "@utils/helpers";

import "./PageUp.style.scss";


export default function PageUp() {
    const [scroll, setScroll] = useState(0);


    useEffect(() => {
        window.addEventListener("scroll", () => setScroll(window.scrollY));

        return function() {
            window.removeEventListener("scroll", () => setScroll(window.scrollY));
        }
    }, []);


    const scrollToTop = () => {
        window.scrollTo({
          top: 0,
          behavior: "smooth"
        });
    };


    return (
        !isPWA() && (
            <div className={classNames("page-up", scroll > 200 && "active")} onClick={scrollToTop}>
                <svg className="page-up__icon" height="21" viewBox="0 0 21 21" width="21">
                    <path d="M10.4955 0.509978C10.7521 0.510221 10.9983 0.606043 11.1797 0.776485L20.2167 9.25619C20.4589 9.48999 20.5498 9.82712 20.4552 10.1407C20.3605 10.4544 20.0947 10.6968 19.758 10.7767C19.4212 10.8567 19.0646 10.7619 18.8224 10.5281L10.4955 2.7147L2.16857 10.5281C1.92715 10.7713 1.56361 10.8713 1.22059 10.7891C0.877575 10.707 0.609694 10.4556 0.522036 10.1336C0.434506 9.81174 0.541143 9.47061 0.800117 9.24408L9.83709 0.764369C10.0142 0.604223 10.2496 0.513249 10.4955 0.509978Z" fill="white"/>
                    <path d="M10.4956 0.522128C11.0275 0.528669 11.4569 0.931577 11.4639 1.43067L11.4639 19.6015C11.4639 19.926 11.2794 20.2259 10.9797 20.3883C10.6801 20.5506 10.3111 20.5506 10.0115 20.3883C9.71186 20.2259 9.52737 19.926 9.52737 19.6015L9.52737 1.43067C9.53434 0.931577 9.96373 0.528669 10.4956 0.522128Z" fill="white"/>
                    <path d="M10.4955 0.509978C10.7521 0.510221 10.9983 0.606043 11.1797 0.776485L20.2167 9.25619C20.4589 9.48999 20.5498 9.82712 20.4552 10.1407C20.3605 10.4544 20.0947 10.6968 19.758 10.7767C19.4212 10.8567 19.0646 10.7619 18.8224 10.5281L10.4955 2.7147L2.16857 10.5281C1.92715 10.7713 1.56361 10.8713 1.22059 10.7891C0.877575 10.707 0.609694 10.4556 0.522036 10.1336C0.434506 9.81174 0.541143 9.47061 0.800117 9.24408L9.83709 0.764369C10.0142 0.604223 10.2496 0.513249 10.4955 0.509978Z" fill="white"/>
                    <path d="M10.4956 0.522128C11.0275 0.528669 11.4569 0.931577 11.4639 1.43067L11.4639 19.6015C11.4639 19.926 11.2794 20.2259 10.9797 20.3883C10.6801 20.5506 10.3111 20.5506 10.0115 20.3883C9.71186 20.2259 9.52737 19.926 9.52737 19.6015L9.52737 1.43067C9.53434 0.931577 9.96373 0.528669 10.4956 0.522128Z" fill="white"/>
                </svg>
            </div>
        )
    );
}